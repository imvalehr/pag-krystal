<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>para el amor de mi vida</title>
  <style>
    :root{
      --primary:#ffb3c6;
      --primary-dark:#ff8fb0;
      --accent:#a7d8ff;
      --text:#2b2b2b;
      --bg1:#f9d8ff;
      --bg2:#b5e6ff;
    }

    html,body{
      height:100%;
      margin:0;
      font-family:'Poppins',sans-serif;
      color:var(--text);
      overflow:hidden;
    }

    .wrap{
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      background:linear-gradient(135deg,var(--bg1),var(--bg2));
      padding:30px;
      box-sizing:border-box;
    }

    .card{
      width:100%;
      max-width:760px;
      background:rgba(255,255,255,0.8);
      border-radius:18px;
      padding:32px;
      box-shadow:0 10px 30px rgba(0,0,0,0.08);
      text-align:center;
      position:relative;
      overflow:hidden;
      z-index:10;
    }

    h1.main{margin:0 0 12px 0;font-size:1.6rem;text-transform:lowercase;letter-spacing:0.2px;}
    #reason{min-height:68px;font-size:1.15rem;margin:16px 0;transition:opacity .35s ease,transform .35s ease;opacity:0;}
    #introStrong{font-weight:600;font-size:1.25rem;margin:16px 0;color:#ff3b7b;}

    .controls{display:flex;gap:12px;justify-content:center;flex-wrap:wrap;margin-top:10px;}
    button.btn{
      background:var(--primary);
      border:none;
      color:white;
      padding:10px 20px;
      border-radius:999px;
      font-size:1rem;
      cursor:pointer;
      box-shadow:0 6px 14px rgba(0,0,0,0.08);
      transition:transform .18s ease, background .18s ease;
    }
    button.btn:hover{transform:translateY(-3px);background:var(--primary-dark);}
    #finalMessage{display:none;margin-top:18px;font-size:1.18rem;color:#444;line-height:1.4;}
    #toCatBtn{display:none;background:var(--accent);}
    #toCatBtn:hover{background:#7acbff;}

    .scene{
      position:fixed;
      inset:0;
      background:#000;
      display:flex;
      align-items:center;
      justify-content:center;
      flex-direction:column;
      gap:18px;
      padding:30px;
      box-sizing:border-box;
      z-index:100;
      opacity:0;
      pointer-events:none;
      transition:opacity .35s ease;
    }
    .scene.show{opacity:1;pointer-events:auto;}
    .scene h1{margin:0;font-size:3.2rem;color:#ff69b4;text-shadow:0 0 20px #ff69b4,0 0 40px #ff1493;animation:pulse 1.6s infinite;text-transform:lowercase;}
    .scene img{width:340px;max-width:85%;border-radius:18px;box-shadow:0 20px 50px rgba(0,0,0,0.6);z-index:2;}
    .scene h2{margin:0;font-size:1.8rem;color:#ffa500;text-shadow:0 0 12px #ff8c00;text-transform:lowercase;}
    .scene .scene-controls{margin-top:8px;display:flex;gap:12px;}
    canvas#fireworks{position:fixed;inset:0;z-index:1;pointer-events:none;}
    .small{padding:8px 14px;font-size:.95rem;border-radius:999px;}
    @keyframes pulse{0%,100%{transform:scale(1);}50%{transform:scale(1.04);}}
    @media (max-width:520px){.card{padding:20px;}.scene h1{font-size:2.2rem;}.scene h2{font-size:1.2rem;}.scene img{width:260px;}}

    /* gatitos */
    .cat {
      position: fixed;
      width: 60px;
      height: 60px;
      background-image: url('https://cdn-icons-png.flaticon.com/512/616/616408.png');
      background-size: cover;
      opacity: 0.9;
      pointer-events: none;
      animation: moveCat linear forwards;
      z-index: 5;
    }

    @keyframes moveCat {
      from { transform: translateY(100vh) rotate(0deg); opacity:1; }
      to { transform: translateY(-120px) rotate(360deg); opacity:0; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card" id="mainCard">
      <h1 class="main" id="introText">cada una de estas razones son por las que te amo y amar칤a estar contigo el resto de mi vida...</h1>
      <div id="introStrong" style="display:none;">pero creo q estas son unas de las m치s importantes 游눪</div>
      <div id="reason" aria-live="polite"></div>
      <div class="controls">
        <button class="btn" id="prevBtn" style="display:none;">拘勇 volver</button>
        <button class="btn" id="nextBtn">siguiente</button>
      </div>
      <div id="finalMessage">
        ojal치 te haya gustado mi amor. 
        <br><br>
        <button class="btn small" id="restartBtn">volver al principio</button>
      </div>
      <div style="display:flex;justify-content:center;">
        <button class="btn small" id="toCatBtn">SORPRESAAAA!!!</button>
      </div>
    </div>
  </div>

  <div class="scene" id="catScene" role="dialog" aria-hidden="true">
    <h1>TE AMOOOOO 游눘</h1>
    <h2>MAS DE LO QUE TE PUEDO DECIR 游비</h2>
    <div class="scene-controls">
      <button class="btn small" id="backBtn">volver</button>
      <button class="btn small" id="moreFire">dale aqui para q salgan mas cuetes jajajaj</button>
    </div>
    <canvas id="fireworks"></canvas>
  </div>

  <script>
    const reasons = [
      "por lo que eres, tu esencia. amo lo que te hace ser t칰 y cada d칤a,mientras te sigo conociendo, me sigo enamorando de ti, de tu persona",
      "la manera en la que me cuidas y me haces sentir amada",
      "la paz que me transmites al estar contigo",
      "lo talentosa que eres en las cosas que te gustan, y ver c칩mo amas hacerlo. te admiro, me haces sentir orgullosa",
      "por tu tacto, la manera en la que conectamos al sentirnos, al besarnos",
      "y porque eres la mujer de mis sue침os, no solo fisica, sino en todo. tienes todo lo que siempre quise, eres todo lo que siemprq quise, lo que siempre so침칠"
    ];

    let index = -1;
    const introText = document.getElementById("introText");
    const introStrong = document.getElementById("introStrong");
    const reasonEl = document.getElementById("reason");
    const nextBtn = document.getElementById("nextBtn");
    const prevBtn = document.getElementById("prevBtn");
    const finalMessage = document.getElementById("finalMessage");
    const restartBtn = document.getElementById("restartBtn");
    const toCatBtn = document.getElementById("toCatBtn");

    function showReason(i){
      reasonEl.style.opacity=0;
      reasonEl.style.transform='translateY(6px)';
      setTimeout(()=>{
        reasonEl.textContent=reasons[i];
        reasonEl.style.opacity=1;
        reasonEl.style.transform='translateY(0)';
        spawnCats(); // gatitos cuando aparece una raz칩n
      },200);
    }

    function spawnCats(){
      for(let i=0;i<4;i++){
        const cat=document.createElement('div');
        cat.className='cat';
        cat.style.left=Math.random()*window.innerWidth+'px';
        cat.style.top=(window.innerHeight+60)+'px';
        cat.style.animationDuration=(4+Math.random()*4)+'s';
        document.body.appendChild(cat);
        setTimeout(()=>cat.remove(),8000);
      }
    }

    nextBtn.addEventListener('click',()=>{
      if(index===-1){
        introText.style.display='none';
        introStrong.style.display='block';
        index=0;
        return;
      }
      if(introStrong.style.display==='block'){
        introStrong.style.display='none';
        reasonEl.style.display='block';
        showReason(index);
        prevBtn.style.display='inline-block';
        return;
      }
      if(index<reasons.length-1){
        index++;
        showReason(index);
      }else{
        reasonEl.style.display='none';
        nextBtn.style.display='none';
        prevBtn.style.display='none';
        finalMessage.style.display='block';
        setTimeout(()=>{ toCatBtn.style.display='inline-block'; },800);
      }
    });

    prevBtn.addEventListener('click',()=>{
      if(index>0){
        index--;
        showReason(index);
      }else{
        reasonEl.style.display='none';
        prevBtn.style.display='none';
        introStrong.style.display='block';
        index=-1;
      }
    });

    restartBtn.addEventListener('click',()=>{
      finalMessage.style.display='none';
      toCatBtn.style.display='none';
      introText.style.display='block';
      nextBtn.style.display='inline-block';
      index=-1;
    });

    // fuegos artificiales
    const canvas=document.getElementById('fireworks');
    const ctx=canvas.getContext('2d');
    function resizeCanvas(){canvas.width=window.innerWidth;canvas.height=window.innerHeight;}
    window.addEventListener('resize',resizeCanvas);resizeCanvas();
    let fireworks=[];
    function random(min,max){return Math.random()*(max-min)+min;}
    function createFirework(x,y,amount=80){
      const p=[];
      for(let i=0;i<amount;i++){
        p.push({x,y,vx:random(-6,6),vy:random(-7,2),size:random(1,3),life:random(40,110),color:`hsl(${Math.floor(random(0,360))},90%,65%)`});
      }
      fireworks.push(p);
    }
    function updateAndDraw(){
      ctx.clearRect(0,0,canvas.width,canvas.height);
      for(let i=fireworks.length-1;i>=0;i--){
        const arr=fireworks[i];
        for(let j=arr.length-1;j>=0;j--){
          const p=arr[j];
          p.vy+=0.08;p.x+=p.vx;p.y+=p.vy;p.life--;
          ctx.fillStyle=p.color;
          ctx.beginPath();ctx.arc(p.x,p.y,p.size,0,Math.PI*2);ctx.fill();
          if(p.life<=0)arr.splice(j,1);
        }
        if(arr.length===0)fireworks.splice(i,1);
      }
      requestAnimationFrame(updateAndDraw);
    }
    updateAndDraw();

    let fireInterval=null;
    const catScene=document.getElementById('catScene');
    function startAutoFire(){
      if(fireInterval)clearInterval(fireInterval);
      fireInterval=setInterval(()=>{
        const x=random(100,canvas.width-100);
        const y=random(60,canvas.height/2);
        createFirework(x,y,90);
      },900);
    }
    function stopAutoFire(){if(fireInterval)clearInterval(fireInterval);}
    const obs=new MutationObserver((m)=>{
      for(const mu of m){
        if(mu.type==='attributes'&&mu.attributeName==='class'){
          if(catScene.classList.contains('show')){
            startAutoFire();
            createFirework(canvas.width*0.3,canvas.height*0.25,140);
            createFirework(canvas.width*0.7,canvas.height*0.2,140);
          }else{stopAutoFire();}
        }
      }
    });
    obs.observe(catScene,{attributes:true});
    document.getElementById('moreFire').addEventListener('click',()=>{
      for(let i=0;i<3;i++){
        createFirework(random(80,canvas.width-80),random(60,canvas.height/2),110);
      }
    });
    document.getElementById('backBtn').addEventListener('click',()=>{
      catScene.classList.remove('show');
      setTimeout(()=>{document.querySelector('.wrap').style.display='flex';},300);
    });
    toCatBtn.addEventListener('click',()=>{
      document.querySelector('.wrap').style.display='none';
      catScene.classList.add('show');
    });
  </script>
</body>
</html>
